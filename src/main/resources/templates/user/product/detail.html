<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{user/common/head :: meta_header('商品詳細',~{::link},~{})}">
	<link th:href="@{/css/user/product-detail.css}" rel="stylesheet" />
</head>

<body>
	<div class="contents">

		<div th:replace="~{user/common/header :: header_fragment}"></div>

		<!-- main -->
		<main>
			<section class="py-5">
				<div class="container px-3 px-lg-5 mb-5">
					<!-- エラーメッセージ >
					<div class="d-flex justify-content-center">
						<div class="alert alert-dismissible alert-danger d-inline-block mb-5">
							<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							ご希望の商品数は在庫数を超えております。数量を変更して再度カートに追加してください。
						</div>
					</div>
 -->
					<div class="row gx-4 gx-lg-5 align-items-center">
						<div class="col-md-6 mb-5 text-center">
							<img class="card-img-top mb-md-0 bg-light" th:src="${product.imageUrl}" alt="" />
						</div>
						<div class="col-md-6">
							<h1 class="display-5 fw-bolder">[[${product.name}]]</h1>
							<div class="fs-5 mb-5">
								<span>¥[[${product.amount}]]</span>
							</div>
							<div class="mb-5">
								<p class="lead">[[${product.description}]]</p>
							</div>

							<!-- 在庫切れ、販売停止中のとき -->
							<div th:if="${product.status} == 1" 　class="fs-5 text-danger">現在販売を停止しています</div>
							<div class="fs-5 text-danger"
								th:if="${product.status} != 1 and ${product.stock.quantity} == 0">
								<span>現在在庫切れです</span>
							</div>
							<!-- 在庫がある時 -->
							<div th:if="${product.status} != 1 and ${product.stock.quantity} != 0">
								<div class="fs-5 mb-3">
									<span>在庫数：</span><span>[[${product.stock.quantity}]]</span>
								</div>
								<form class="md-d-block" action="?">
									<div class="me-3">
										<select class="form-select">
											<option>1</option>
											<option>2</option>
											<option>3</option>
											<option>4</option>
											<option>5</option>
										</select>
									</div>
									<div class="mt-3">
										<button class="btn btn-outline-dark flex-shrink-0 me-2" formaction="index.html">
											カートに入れる
										</button>
										<button class="btn btn-secondary" formaction="settlement.html">今すぐ買う</button>
									</div>
								</form>
								</divth:if="${product.status} !=1 and ${product.stock.quantity} !=0">
								<!-- 在庫がある時 -->
							</div>
						</div>
					</div>
			</section>
		</main>

		<div th:replace="~{user/common/footer :: footer_fragment}"></div>
	</div>
</body>

</html>